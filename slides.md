# "Better" Code?

### Critiquing Code, Not People

---

## Code has a shape

![Flat](/images/codeshape2.png)

(squint at a code review)

---

![Indented](/images/codeshape.png)

---

![Which do you prefer](/images/codeshape2.png)

---

## Nested Ifs

![Nested If Statements](/images/nested.png)

---

## Early Returns

![Early Returns](/images/earlyreturns.png)

---

## For... Continue

![Continue](/images/continue.png)

---

## Filter First

![Refactored](/images/continue-refactored.png)

---

## For... Break

![Break](/images/break.png)

---

## Extract to a function

![Extract Function](/images/function_return.png)

---

## Nothing wrong here?

![valid code](/images/express.png)

---

## Express the business rules

![express yourself](/images/express-refactored0.png)

(hard to imagine a comment that is more expressive)

---

![expressed w/ extracted functions](/images/express-refactored.png)

---

## Who cares, it works.

![indifferent](/images/indifferent.png)

---

## Better...?

* Many facets and tradeoffs to consider
* Quickly parse-able
* More maintainable
* Easier to test
* Faster to ship
* Less invasive
* More efficient

---

![Sandy Metz](/images/sandymetz.png)

(Sandy Metz)

---

## 5 Lines per Method

## 100 Lines per Class

---

## Development Cycle

* Explore and Understand
* Write Test
* Write Code
* Review and Refactor

```notes
red/green refactor
```
---

# Get Available Offers

---

![fear](/images/fear.jpg)

(socgen.ucla.edu)

---

![large methods](/images/getavailableoffers.png)

---

![refactor-2](/images/refactor-2.png)

---

![refactor-3](/images/refactor-3.png)

---

![refactor-4](/images/refactor-4.png)

---

![refactor-5](/images/refactor-5.png)

---

![refactor-6](/images/refactor-6.png)

---

![refactor-7](/images/refactor-7.png)

---
## Refactoring Get Available Offers

* Filter First
* Extract methods
* Remove Dead Code
* Use experiment to release code at low exposure

---

## Removing Referrals

![Remove Referrals](/images/referral.png)

---

## Refactored

![Remove Referrals Refactored](/images/referrals_refactored.png)

---


![New Get Available Offers](/images/getavailableoffers-refactored.png)

---

![Boyscouts](/images/boyscouts.png)

Always leave your campground cleaner than you found it.

